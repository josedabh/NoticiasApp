<mat-toolbar color="primary" class="navbar">
    <!-- Botón hamburguesa -->
    <button mat-icon-button (click)="onToggleSidebar()">
        <mat-icon>menu</mat-icon>
    </button>

    <!-- Título o Logo -->
    <a class="brand" (click)="goPagPrincipal()">ARQUICKINFO</a>

    <!-- Buscador -->
    <div class="search-container">
        <div class="d-flex align-items-center bg-white rounded px-3">
            <input type="text" class="form-control border-0" [(ngModel)]="searchValue" placeholder="Buscar noticias..."
                (keyup.enter)="onSearch()">
            <mat-icon class="text-primary" role="button" (click)="onSearch()">search</mat-icon>
        </div>
    </div>
    
    <!-- Contenedor de autenticación -->
    <div class="auth-container">
        @if (currentUser$ | async; as user) {
            <button mat-icon-button [matMenuTriggerFor]="userMenu">
                <mat-icon>account_circle</mat-icon>
            </button>
            <mat-menu #userMenu="matMenu">
                <div class="user-menu-header">
                    <img [src]="user.avatar" 
                         [alt]="user.firstName" 
                         class="rounded-circle" 
                         width="40" 
                         height="40">
                    <p class="mb-0">{{user.firstName}}</p>
                </div>
                <mat-divider></mat-divider>
                <button mat-menu-item (click)="onInfoUser()">
                    <mat-icon>person</mat-icon>
                    <span>Mi Perfil</span>
                </button>
                <button mat-menu-item (click)="onLogout()">
                    <mat-icon>exit_to_app</mat-icon>
                    <span>Cerrar Sesión</span>
                </button>
            </mat-menu>
        } @else {
            <div class="auth-buttons">
                <button mat-raised-button (click)="onLogin()">
                    <mat-icon>login</mat-icon>
                    Iniciar Sesión
                </button>
                <button mat-stroked-button color="accent" (click)="onRegister()">
                    <mat-icon>person_add</mat-icon>
                    Registrarse
                </button>
            </div>
        }
    </div>
</mat-toolbar>